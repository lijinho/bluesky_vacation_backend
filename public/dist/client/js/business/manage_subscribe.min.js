app.controller("subscription",["$scope","$http","$compile","$timeout",function(e,i,t,s){function a(){var e=[];return $('input[name="selectedListings[]"]:checked').each(function(){e.push(this.value)}),e}e.payment_type="stripe",e.changePaymentType=function(i){e.payment_type=i,"paypal"==i?($("#stripe-payment-div").removeClass("selected-div"),$("#paypal-payment-div").addClass("selected-div")):"stripe"==i&&($("#paypal-payment-div").removeClass("selected-div"),$("#stripe-payment-div").addClass("selected-div"))},e.selectListing=function(){console.log("select"),$(".price-section-prepare").removeClass("hide"),$(".price-section").addClass("hide");var i=a();e.no_of_listings=i.length,e.plan_price_cal(a().length)},e.plan_price_cal=function(t){$(".form-cls").addClass("loading"),i.post("plan_price_calculation",{listing_count:t}).then(function(i){$(".form-cls").removeClass("loading"),"true"==i.data.success?(e.unit_price=i.data.unit_price,e.discount=i.data.discount,$(".price-section").hasClass("hide")&&($(".price-section-prepare").addClass("hide"),$(".price-section").removeClass("hide"))):e.discount=0})},e.plan_price_cal(a().length)}]);
